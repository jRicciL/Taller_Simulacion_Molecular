---
title: 'Tarea: Archivos de configuraci√≥n DM'
---
***

```{r setup, include=FALSE}
library(DiagrammeR)
knitr::opts_chunk$set(echo = TRUE)
```

# Tarea 3: Din√°mica Molecular
**<mark>Archivos de configuraci√≥n para realizar la DM con Amber</mark>**

## Objetivos
- 1Ô∏è‚É£ Revisar los **archivos de configuraci√≥n** que definen el comportamiento de la ejecuci√≥n de din√°mica molecular con Amber.
- 2Ô∏è‚É£ **Describir** brevemente los **par√°metros utilizados** dentro de cada archivo de configuraci√≥n.
- 3Ô∏è‚É£ **Responder un cuestionario** sobre las propiedades de la din√°mica de acuerdo a los siguientes archivos de configuraci√≥n.
- 4Ô∏è‚É£ **En esta tarea no se ejecutar√° ning√∫n comando.**

## Instrucciones
1. Descarga los **archivos de configuraci√≥n** correspondientes a las siguientes fases de simulaci√≥n:
   a) [min_all.in](https://raw.githubusercontent.com/jRicciL/Taller_Simulacion_Molecular/master/resurces/md/min_all.in) -> Minimizaci√≥n de la energ√≠a potencial del sistema.
   b) [heat.in](https://raw.githubusercontent.com/jRicciL/Taller_Simulacion_Molecular/master/resurces/md/heat.in) -> Calentamiento del sistema.
   c) [eq.in](https://raw.githubusercontent.com/jRicciL/Taller_Simulacion_Molecular/master/resurces/md/eq.in) -> Equilibrado del sistema.
   d) [prod.in](https://raw.githubusercontent.com/jRicciL/Taller_Simulacion_Molecular/master/resurces/md/prod.in) -> Fase de producci√≥n de la din√°mica molecular.


2. üö® Utilizando el [manual de Amber](https://ambermd.org/doc12/Amber19.pdf), b√∫sca cada uno de los comandos usados en cada fase y **<mark>comenta brevemente qu√© hace cada uno</mark>** (ver ejemplo del comentario m√°s abajo).
> Puedes usar `Ctrl+F` y/o el √çndice a partir de la p√°gina 949 del [manual de Amber](https://ambermd.org/doc12/Amber19.pdf).


3. **Responde las preguntas del cuestionario mostrado al final.**

4. <mark>üìÜ Fecha l√≠mite para responder el cuestionario es el jueves 4 de marzo a las 24:00 horas.</mark>

***
## 1) Fase 1: Minimizaci√≥n de la energ√≠a potencial del sistema
<div style="background-color: #F9E5AB; min-height: 10px"></div>

```{#numCode .R .numberLines}
# Ejemplo de ejecuci√≥n de la fase de minimizaci√≥n
$AMBERHOME/bin/pmemd.cuda -O \ 
  -i min_solv.in \        # Archivo de configuraci√≥n
  -p sistema.prmtop \     # Par√°metros del FF
  -c sistema.rst7 \       # Coordenadas iniciales del sistema
  -ref sistema.rst7 \     # Coordenadas de referencia (mismas que -r)
  -o sistema_MIN.out \    # Archivo de salida (propiedades f√≠sicas del sistema)
  -r sistema_MIN.rst7 \   # Archivo restart al finalizar (coords)
  -inf sistema_MIN.mdinfo # Informaci√≥n de la ejecuci√≥n
```


```{r, echo=FALSE}
mermaid("
graph LR
    A(min_all.in)--> |Configuraci√≥n|B(AMBER-pmed.cuda)
    C(sistema.prmtop)--> |Par√°metros|B
    D(sistema.rst7)--> |Coordenadas|B
    B --> |Coordenadas|E(sistema_MIN.rst7)
    B --> |Propiedades del sistema|F(sistema_MIN.out)
    B --> |Info. ejecuci√≥n|G(sistema_MIN.mdinfo)
    class A, B mermaid_class;
    ", height = '80%', width = '100%')
```

### Archivo de configuraci√≥n

La l√≠nea 4 muestra un ejemple de comentario. Los comentarios empiezan con el s√≠mbolo `!`.

```{#numCode .R .numberLines}
cat min_all.in
```

```{#numCode .R .numberLines}
Fase de minimizacion de todo el sistema
   System minimization:
&cntrl
   imin=1,         ! =1, llevar a cabo minimizacion del sistema
   ntmin=1,        ! Comentario
   ncyc=2500,      ! Comentario
   maxcyc=50000,   ! Comentario
   drms=0.01,      ! Comentario
   ntx=1,          ! Comentario
   irest=0,        ! Comentario
   ntpr=100,       ! Comentario
   ntwr=100,       ! Comentario
   iwrap=0,        ! Comentario
   ntf=1,          ! Comentario
   igb=0,          ! Comentario
   ntb=1,          ! Comentario
   nsnb=20,        ! Comentario
   cut=10.0,       ! Comentario
&end
 /
```


***
## 2) Fase de Calentamiento
<div style="background-color: #F9E5AB; min-height: 10px"></div>

```{#numCode .R .numberLines}
# Ejemplo de ejecuci√≥n de la fase de calentamiento
$AMBERHOME/bin/pmemd.cuda -O \ 
  -i heat.in \             # Archivo de configuraci√≥n
  -p sistema.prmtop \      # Par√°metros del FF
  -c sistema_MIN.rst7 \    # Coordenadas iniciales del sistema (desde la MIN)
  -o sistema_HEAT.out \    # Archivo de salida
  -r sistema_HEAT.rst7 \   # Archivo restart al finalizar (coords y velocidades)
  -x sistema_HEAT.nc \     # Archivo de la trayectoria (mrcd)
  -inf sistema_HEAT.mdinfo # Informaci√≥n de la ejecuci√≥n
```


```{r, echo=FALSE}
mermaid("
graph LR
    A(min_all.in)--> |Configuraci√≥n|B(AMBER-pmed.cuda)
    C(sistema.prmtop)--> |Par√°metros|B
    D(sistema_MIN.rst7)--> |Coordenadas|B
    B --> |Coordenadas|E(sistema_HEAT.rst7)
    B --> |Propiedades del sistema|F(sistema_HEAT.out)
    B --> |Trayectoria|H(sistema_HEAT.nc)
    B --> |Info. ejecuci√≥n|G(sistema_HEAT.mdinfo)
    class A, B mermaid_class;
    ", height = '80%', width = '100%')
```

### Archivo de configuraci√≥n
La l√≠nea 10 muestra un ejemple de comentario. Los comentarios empiezan con el s√≠mbolo `!`.

```{#numCode .R .numberLines}
cat heat.in
```

```{#numCode .R .numberLines}
&cntrl
    imin=0,          ! 
    irest=0,         ! 
    iwrap=1,         !
    ntx=1,           !
    ntb=1,           !
    cut=10.0,        !
    ntc=2,           !
    ntf=2,           !
    ntt=3,           ! Tipo de termostato a utilizar; =3 Langevin
    tempi=0.0,       !
    temp0=310.0,     !
    gamma_ln=1.0,    !
    dt=0.001,        !
    nstlim=3000000,  !
    ntpr=10000,      !
    ntwx=10000,      !
    ntwr=100000,     !
/
```



***
## 3) Fase de Equilibrado
<div style="background-color: #F9E5AB; min-height: 10px"></div>

```{#numCode .R .numberLines}
# Ejemplo de ejecuci√≥n de la fase de equilibrado
$AMBERHOME/bin/pmemd.cuda -O \ 
  -i heat.in \            # Archivo de configuraci√≥n
  -p sistema.prmtop \     # Par√°metros del FF
  -c sistema_HEAT.rst7 \  # Coordenadas iniciales del sistema (desde la HEAT)
  -o sistema_EQ.out \     # Archivo de salida
  -r sistema_EQ.rst7 \    # Archivo restart al finalizar (coords y velocidades)
  -x sistema_EQ.nc \      # Archivo de la trayectoria (mrcd)
  -inf sistema_EQ.mdinfo  # Informaci√≥n de la ejecuci√≥n
```

```{r, echo=FALSE}
mermaid("
graph LR
    A(min_all.in)--> |Configuraci√≥n|B(AMBER-pmed.cuda)
    C(sistema.prmtop)--> |Par√°metros|B
    D(sistema_HEAT.rst7)--> |Coordenadas|B
    B --> |Coordenadas|E(sistema_EQ.rst7)
    B --> |Propiedades del sistema|F(sistema_EQ.out)
    B --> |Trayectoria|H(sistema_EQ.nc)
    B --> |Info. ejecuci√≥n|G(sistema_EQ.mdinfo)
    class A, B mermaid_class;
    ", height = '80%', width = '100%')
```

### Archivo de configuraci√≥n

```{#numCode .R .numberLines}
cat eq.in
```

```{#numCode .R .numberLines}
Fase de Equilibrado
&cntrl
    irest=1,        ! 
    imin=0,         !
    iwrap=1,        ! =1, realiza un wrap en favor de la visualizaci√≥n
    ntx=5,          ! 
    ntb=2,          ! =2, conglomerado NPT
    pres0=1.0,      ! 
    ntp=1,          ! 
    taup=2.0,       ! 
    cut=10.0,       ! 
    ntc=2,          ! 
    ntf=2,          ! 
    temp0=310.0,    !
    ntt=3,          ! 
    gamma_ln=1.0,   ! 
    nstlim=2500000, ! 
    dt=0.002,       ! 
    ntpr=10000,     ! 
    ntwx=10000,     ! 
    ntwr=100000,    ! 
&end
/
```

***
## 4) Fase de Producci√≥n
<div style="background-color: #F9E5AB; min-height: 10px"></div>

```{#numCode .R .numberLines}
# Ejemplo de ejecuci√≥n de la fase de equilibrado
$AMBERHOME/bin/pmemd.cuda -O \ 
  -i heat.in \             # Archivo de configuraci√≥n
  -p sistema.prmtop \      # Par√°metros del FF
  -c sistema_EQ.rst7 \     # Coordenadas iniciales del sistema (desde EQ)
  -o sistema_PROD.out \    # Archivo de salida
  -r sistema_PROD.rst7 \   # Archivo restart al finalizar (coords y velocidades)
  -x sistema_PROD.nc \     # Archivo de la trayectoria (mrcd)
  -inf sistema_PROD.mdinfo # Informaci√≥n de la ejecuci√≥n
```

```{r, echo=FALSE}
mermaid("
graph LR
    A(min_all.in)--> |Configuraci√≥n|B(AMBER-pmed.cuda)
    C(sistema.prmtop)--> |Par√°metros|B
    D(sistema_EQ.rst7)--> |Coordenadas|B
    B --> |Coordenadas|E(sistema_PROD.rst7)
    B --> |Propiedades del sistema|F(sistema_PROD.out)
    B --> |Trayectoria|H(sistema_PROD.nc)
    B --> |Info. ejecuci√≥n|G(sistema_PROD.mdinfo)
    class A, B mermaid_class;
    ", height = '80%', width = '100%')
```

### Archivo de configuraci√≥n

```{#numCode .R .numberLines}
cat prod.in
```

```{#numCode .R .numberLines}
Fase de Producci√≥n
&cntrl
    imin=0,         !
    irest=1,        ! =1, se contin√∫a con una trayectoria
    iwrap=1,        ! 
    ntx=5,          ! 
    ntb=2,          ! 
    pres0=1.0,      ! 
    ntp=1,          ! 
    taup=2.0,       ! 
    cut=10.0,       ! 
    ntc=2,          ! 
    ntf=2,          ! 
    temp0=310.0,    ! 
    ntt=3,          ! 
    gamma_ln=1.0,   ! 
    nstlim=10000000,! 
    dt=0.002,       ! 
    ntpr=10000,     ! 
    ntwx=10000,     ! 
    ntwr=100000,    !
&end
/
```

***
# Cuestionario (21 preguntas)

**Responde las preguntas del siguiente cuestionario.** Las preguntas est√°n relacionadas con los archivos de configuraci√≥n mostrados arriba y el significado de los par√°metros usados.

> üö® El cuestionario est√° dividido en **cuatro secciones** seg√∫n las fases de la din√°mica. Las preguntas dentro de cada secci√≥n hacen referencia a la fase correspondiente. 
  
<iframe src="https://docs.google.com/forms/d/e/1FAIpQLSejRrmGGhKppqshNFE0e_U7WsPOfHF-Al3nesgGKumjtIZAwQ/viewform?embedded=true" width="720" height="800" frameborder="0" marginheight="0" marginwidth="0">Cargando‚Ä¶</iframe>
